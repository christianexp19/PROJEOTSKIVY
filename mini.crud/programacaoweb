<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Mini CRUD - Lista de Itens</title>
<style>
  body {
    font-family: Arial, sans-serif;
    background: #f3f4f6;
    display: flex;
    justify-content: center;
    align-items: flex-start;
    min-height: 100vh;
    padding: 20px;
  }
  .card {
    background: #fff;
    padding: 20px;
    border-radius: 8px;
    box-shadow: 0 4px 12px rgba(0,0,0,0.08);
    width: 100%;
    max-width: 400px;
  }
  h1 {
    color: #6d28d9;
    text-align: center;
    margin-bottom: 16px;
  }
  input {
    width: 100%;
    padding: 10px;
    border-radius: 6px;
    border: 1px solid #ccc;
    margin-bottom: 10px;
    box-sizing: border-box;
  }
  button {
    padding: 10px 14px;
    border: none;
    border-radius: 6px;
    cursor: pointer;
    font-weight: bold;
    margin-right: 6px;
  }
  .btn-add { background: #6d28d9; color: #fff; }
  .btn-edit { background: #f59e0b; color: #fff; }
  .btn-delete { background: #ef4444; color: #fff; }
  #mensagem {
    margin: 10px 0;
    height: 20px;
    text-align: center;
    font-weight: bold;
  }
  ul {
    list-style: none;
    padding: 0;
  }
  li {
    padding: 8px 10px;
    background: #eee;
    margin-bottom: 6px;
    border-radius: 6px;
    display: flex;
    justify-content: space-between;
    align-items: center;
  }
  li span {
    flex: 1;
  }
</style>
</head>
<body>
<div class="card">
  <h1>Lista de Itens</h1>
  <input type="text" id="itemInput" placeholder="Digite um item">
  <button class="btn-add" onclick="adicionarItem()">Adicionar</button>
  <div id="mensagem"></div>
  <ul id="listaItens"></ul>
</div>

<script>
let itens = [];

// Carrega itens do localStorage
function carregarLocalStorage() {
  const dados = localStorage.getItem('itens');
  if(dados) itens = JSON.parse(dados);
  listarItens();
}

// Salva itens no localStorage
function salvarLocalStorage() {
  localStorage.setItem('itens', JSON.stringify(itens));
}

// Adiciona item
function adicionarItem() {
  const input = document.getElementById('itemInput');
  const valor = input.value.trim();

  if(!valor){
    mostrarMensagem('Digite algum item!', true);
    return;
  }

  if(itens.includes(valor)){
    mostrarMensagem('Item duplicado!', true);
    return;
  }

  itens.push(valor);
  input.value = '';
  salvarLocalStorage();
  listarItens();
  mostrarMensagem('Item adicionado com sucesso ✅');
}

// Lista itens
function listarItens() {
  const lista = document.getElementById('listaItens');
  lista.innerHTML = '';
  itens.forEach((item, index) => {
    const li = document.createElement('li');
    li.innerHTML = `<span>${item}</span>`;
    const editarBtn = document.createElement('button');
    editarBtn.textContent = 'Editar';
    editarBtn.className = 'btn-edit';
    editarBtn.onclick = () => editarItem(index);
    const excluirBtn = document.createElement('button');
    excluirBtn.textContent = 'Excluir';
    excluirBtn.className = 'btn-delete';
    excluirBtn.onclick = () => removerItem(index);
    li.appendChild(editarBtn);
    li.appendChild(excluirBtn);
    lista.appendChild(li);
  });
}

// Remove item
function removerItem(index) {
  itens.splice(index,1);
  salvarLocalStorage();
  listarItens();
  mostrarMensagem('Item removido ✅');
}

// Edita item
function editarItem(index) {
  const input = document.getElementById('itemInput');
  input.value = itens[index];
  removerItem(index);
}

// Mensagem temporária
function mostrarMensagem(msg, erro=false){
  const div = document.getElementById('mensagem');
  div.textContent = msg;
  div.style.color = erro ? 'red' : 'green';
  setTimeout(()=> div.textContent='',3000);
}

// Inicializa
carregarLocalStorage();
</script>
</body>
</html>
